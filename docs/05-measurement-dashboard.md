# 성과 측정 & 대시보드 설계

## 프로젝트 목적 (우선순위)

1. **경영지원 본부의 반복 문의 응대 공수 절감** (핵심)
2. 임직원 문의 응답 속도 개선
3. AI 활용 파일럿 사례 확보

## 보고 라인

```
전략기획(주도/개발) → 경영지원 본부장(승인) → 대표(최종 보고)
```

**대표/본부장이 보고 싶은 숫자**: 얼마나 효율화했는가, 비용 대비 효과

---

## 1. 베이스라인 측정 (봇 도입 전 — 반드시 선행)

봇 효과를 증명하려면 **도입 전 현재 상태**를 먼저 측정해야 한다.

### 수집할 베이스라인 데이터

| 항목 | 측정 방법 | 비고 |
|------|----------|------|
| 월간 총 문의 건수 | 경영지원팀에 확인 (메신저/메일/전화) | 최근 1-3개월 평균 |
| 카테고리별 비율 | 인사/총무/회계 비율 | 대략적이라도 OK |
| 문의 1건당 평균 응대 시간 | 경영지원 담당자 체감치 | 5분? 10분? 15분? |
| 응대 담당 인원 수 | 문의 응대에 관여하는 인원 | |
| 담당자 시급 (또는 월급 기준 환산) | 인건비 계산용 | 정확하지 않아도 됨 |
| 임직원 평균 답변 대기 시간 | 문의 후 답변받기까지 | 30분? 2시간? 반나절? |

### 베이스라인 수집 액션

> **경영지원 본부에 요청할 것:**
> "최근 1-3개월간 임직원 문의가 대략 월 몇 건 정도 오는지,
> 어떤 유형이 많은지, 1건 응대에 평균 몇 분 정도 걸리는지 알려주세요."

정확한 숫자가 아니어도 된다. 체감치로 충분하다.
이 숫자가 있어야 "봇 도입 후 XX% 감소"를 증명할 수 있다.

---

## 2. 핵심 KPI

### Primary KPI (대표/본부장 보고용)

| KPI | 정의 | 목표 | 측정 방법 |
|-----|------|------|----------|
| **문의 자동 처리율** | 봇이 에스컬레이션 없이 처리한 비율 | 60% 이상 | (Tier1 + Tier2) / 전체 건수 |
| **월간 절감 시간** | 봇이 대신 처리한 건수 × 건당 평균 응대 시간 | - | 자동 처리 건수 × 베이스라인 건당 시간 |
| **ROI** | 절감 비용 vs 운영 비용 | 양수 | 아래 ROI 모델 참조 |

### Secondary KPI (실무 모니터링용)

| KPI | 정의 | 목표 | 측정 방법 |
|-----|------|------|----------|
| 봇 응답 시간 | Webhook 수신 ~ 응답 전송 | Tier1: 2초 이내, Tier2: 5초 이내 | 로그 타임스탬프 차이 |
| 에스컬레이션 비율 | Tier 3 비율 | 40% 이하 → 점진적 감소 | Tier3 건수 / 전체 건수 |
| FAQ 커버리지 | FAQ로 처리한 비율 | 점진적 증가 | Tier1 건수 / 전체 건수 |
| 카테고리별 분포 | 인사/총무/회계 비율 | 모니터링 | 로그 집계 |
| 일별 사용량 | 일간 봇 이용 건수 | 모니터링 | 로그 집계 |
| 반복 에스컬레이션 | 같은 질문이 반복 에스컬레이션 | 0건 | FAQ 갭 분석 |

---

## 3. ROI 모델

### 절감 비용 (월간)

```
월간 절감 비용 = 봇 자동 처리 건수 × 건당 평균 응대 시간(분) × 담당자 분당 인건비

예시:
- 월간 총 문의: 200건
- 봇 자동 처리율: 60% → 120건
- 건당 평균 응대 시간: 10분
- 담당자 시급: 25,000원 (분당 약 417원)

월간 절감 시간 = 120건 × 10분 = 1,200분 = 20시간
월간 절감 비용 = 20시간 × 25,000원 = 500,000원
```

### 운영 비용 (월간)

| 항목 | 예상 비용 | 비고 |
|------|----------|------|
| Gemini API | ~10,000-50,000원 | Flash 기준 100만 토큰당 약 $0.075 |
| n8n | 0원 | 셀프호스팅 (기존 인프라) |
| Google Sheets | 0원 | Workspace 기존 라이선스 |
| 관리 인건비 | 월 2-4시간 | FAQ/규정 업데이트 |

### ROI 공식

```
월간 ROI = 월간 절감 비용 - 월간 운영 비용

초기 개발 투자 회수 기간 = 개발 인건비 / 월간 ROI
```

> **대표 보고 시 포인트**: ROI 숫자 자체보다 "반복 문의 자동화로 경영지원 인력이
> 더 부가가치 높은 업무에 집중할 수 있다"는 정성적 가치를 함께 어필

---

## 4. 로그 설계

### 봇 운영 로그 (Google Sheets — 신규 시트)

기존 `대화이력` 시트와 별도로, 성과 측정 전용 로그 시트를 둔다.

**시트: 운영로그**

| 컬럼 | 타입 | 설명 |
|------|------|------|
| logId | string | 고유 ID (자동 생성) |
| timestamp | datetime | 요청 시각 |
| userId | string | 사용자 ID |
| messageText | string | 사용자 메시지 원문 |
| category | string | 분류된 카테고리 |
| subCategory | string | 소분류 |
| tier | string | 응답 Tier (1/2/3) |
| responseTime | number | 응답 소요 시간 (ms) |
| isEscalated | boolean | 에스컬레이션 여부 |
| confidence | number | Gemini 신뢰도 점수 |
| faqId | string | 매칭된 FAQ ID (Tier1만) |
| tokenUsage | number | Gemini API 토큰 사용량 |
| errorOccurred | boolean | 에러 발생 여부 |

### 로그를 남기는 이유 (항목별)

| 로그 항목 | 왜 필요한가 |
|----------|------------|
| tier | 자동 처리율 계산, Tier별 비율 추이 |
| responseTime | 응답 속도 모니터링, SLA 관리 |
| isEscalated | 에스컬레이션 비율, 절감 시간 계산 |
| category | 카테고리별 문의 분포, 규정 보강 우선순위 |
| confidence | 답변 품질 모니터링, 프롬프트 튜닝 근거 |
| faqId | FAQ 활용도 분석, 미사용 FAQ 정리 |
| tokenUsage | API 비용 추적, 월간 운영비 산출 |
| messageText | 에스컬레이션된 질문 → FAQ 후보 추출 |

### n8n 구현

메인 워크플로우의 응답 전송 직전에 `운영로그` 시트에 1행 Append.
기존 `대화이력` 시트는 멀티턴 맥락용으로 유지 (역할 분리).

---

## 5. 대시보드 설계

### 도구: Google Sheets 차트 + (선택) Looker Studio

Google Sheets 자체 차트로 시작 → 필요 시 Looker Studio로 확장.
경영지원본부 전원이 접근 가능한 공유 시트로 운영.

### 대시보드 구성

**시트: 대시보드** (수식/차트로 운영로그를 자동 집계)

```
┌─────────────────────────────────────────────────────┐
│                    BizSupportBot 대시보드              │
├─────────────────────────────────────────────────────┤
│                                                      │
│  [오늘의 요약]                                        │
│  총 문의: 23건  자동처리: 15건(65%)  에스컬레이션: 8건   │
│  평균 응답시간: 2.3초   예상 절감시간: 150분            │
│                                                      │
├──────────────────────┬──────────────────────────────┤
│                      │                               │
│  [카테고리별 문의 비율] │  [Tier별 처리 비율]            │
│  원형 차트             │  막대 차트                     │
│                      │                               │
│  인사 45%             │  ██████████ Tier1 FAQ   50%   │
│  회계 35%             │  ██████     Tier2 규정  25%   │
│  총무 15%             │  █████      Tier3 에스컬 25%  │
│  기타  5%             │                               │
│                      │                               │
├──────────────────────┴──────────────────────────────┤
│                                                      │
│  [주간/월간 추이]                                      │
│  꺾은선 그래프: 일별 문의 건수 + 자동처리율 추이          │
│                                                      │
├─────────────────────────────────────────────────────┤
│                                                      │
│  [에스컬레이션 TOP 질문]                               │
│  봇이 처리 못한 질문 중 빈도 높은 것 → FAQ 추가 후보     │
│                                                      │
│  1. "육아휴직 중 급여는 어떻게 되나요?" (7건)            │
│  2. "해외 출장 보험 가입 절차?" (5건)                   │
│  3. "법인카드 분실 시 처리 방법?" (4건)                  │
│                                                      │
├─────────────────────────────────────────────────────┤
│                                                      │
│  [월간 ROI 요약]                                      │
│  절감 시간: 20시간  절감 비용: 500,000원                │
│  운영 비용: 30,000원  순 ROI: +470,000원               │
│                                                      │
└─────────────────────────────────────────────────────┘
```

### 뷰별 관심 포인트

| 대상 | 주로 보는 것 | 의사결정 |
|------|------------|---------|
| **실무자** | 에스컬레이션 TOP 질문, 카테고리별 분포 | FAQ 추가, 규정 데이터 보강 |
| **리더** | 자동 처리율 추이, 월간 ROI | 봇 확대/축소 판단, 리소스 투입 결정 |
| **대표/본부장** | 월간 ROI, 절감 시간 | Go/No-Go, 다른 부서 확대 여부 |

### Google Sheets 대시보드 구현 방법

```
[BizSupportBot_Data] 스프레드시트

시트 구성:
├── FAQ              (데이터)
├── 규정_인사         (데이터)
├── 규정_총무         (데이터)
├── 규정_회계         (데이터)
├── 담당자            (데이터)
├── 대화이력          (데이터 - 멀티턴용)
├── 운영로그          (데이터 - 성과측정용)  ← 신규
├── 대시보드_일간      (차트)                ← 신규
└── 대시보드_월간      (차트)                ← 신규
```

**집계 수식 예시 (대시보드_일간 시트):**

| 지표 | 수식 |
|------|------|
| 오늘 총 문의 | `=COUNTIFS(운영로그!B:B, ">="&TODAY(), 운영로그!B:B, "<"&TODAY()+1)` |
| 오늘 자동처리 | `=COUNTIFS(운영로그!B:B, ">="&TODAY(), 운영로그!G:G, "<>3")` |
| 자동처리율 | `=오늘자동처리/오늘총문의` |
| 평균 응답시간 | `=AVERAGEIFS(운영로그!H:H, 운영로그!B:B, ">="&TODAY())` |
| 에스컬레이션 건수 | `=COUNTIFS(운영로그!B:B, ">="&TODAY(), 운영로그!G:G, "3")` |
| 카테고리별 건수 | `=COUNTIFS(운영로그!B:B, ">="&TODAY(), 운영로그!E:E, "인사")` |

---

## 6. 피드백 루프 (FAQ 자동 보강 사이클)

```
에스컬레이션 발생
    ↓
운영로그에 기록 (질문 원문 + 카테고리)
    ↓
대시보드 "에스컬레이션 TOP 질문" 자동 집계
    ↓
경영지원 실무자가 주 1회 확인
    ↓
반복 질문 → FAQ 시트에 추가 (답변 작성)
    ↓
다음 동일 질문 → Tier 1 즉시 응답 (자동 처리율 상승)
```

이 사이클이 돌면 **시간이 갈수록 자동 처리율이 올라간다** → 성과가 자연스럽게 개선.

---

## 7. 대표 보고 시 활용 프레임

### 1페이지 요약 (경영회의용)

```
[BizSupportBot 파일럿 결과 요약]

■ Before
- 월간 경영지원 문의: ~200건
- 건당 평균 응대 시간: 10분
- 월간 응대 총 소요: ~33시간

■ After (1개월 파일럿)
- 봇 자동 처리율: 65%
- 월간 절감 시간: ~20시간
- 월간 운영 비용: ~30,000원

■ ROI
- 월간 절감 비용: ~500,000원
- 순 효과: +470,000원/월
- 부가 효과: 응답 즉시화 (평균 2초), 24시간 응대 가능

■ Next Step
- 전사 배포 / 다른 부서 확대 검토
```
